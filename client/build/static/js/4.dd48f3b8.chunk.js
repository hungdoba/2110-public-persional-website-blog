(this["webpackJsonpscroll-web"]=this["webpackJsonpscroll-web"]||[]).push([[4],{87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n,c,i,r,o,l,s,d,j,u,b,p,g,O,h,f,v,m,x,y,w=a(7),k=a.n(w),C=a(14),S=a(29),E=a(4),P=a(13),D=a.n(P),N=a(5),J=a(1),I=a(83),T=(a(84),a(85),a(86),a(87),a(0)),V=function(e){var t=e.value,a=e.executeCode,n=e.dispatch,c=e.language;var i=Object(J.useState)(),r=Object(E.a)(i,2),o=r[0],l=r[1];return Object(T.jsxs)("div",{className:"editor-container",children:[Object(T.jsxs)("div",{className:"editor-title",children:[Object(T.jsx)("div",{className:"editor-language",children:"HTML"}),Object(T.jsx)("div",{className:"editor-import-file",children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=new FormData;a.append("image",o);try{D.a.post("/image/upload",a).then((function(e){n({type:c,payload:t+'<img alt="gogole-drive-photo" src="https://drive.google.com/uc?export=view&id='.concat(e.data,'" style="max-width: 100%; height: auto" />')})}))}catch(i){console.log(i.message)}},children:[Object(T.jsx)("input",{type:"file",accept:"image/png, image/jpeg",onChange:function(e){l(e.target.files[0])}}),Object(T.jsx)("button",{className:"button-submit",type:"submit",children:"Submit"})]})}),Object(T.jsx)("button",{className:"button-run",onClick:a,children:"Run"})]}),Object(T.jsx)(I.Controlled,{onBeforeChange:function(e,t,a){n({type:c,payload:a})},value:t,className:"code-mirror-wrapper",options:{lineWrapping:!0,lint:!0,mode:"xml",lineNumbers:!0,theme:"material"}})]})},B=a(16),F=a(2),L=a(3),R=L.a.div(n||(n=Object(F.a)(["\n    background-color: hsl(255, 6%, 25%);\n    height: 100vh;\n"]))),U=L.a.div(c||(c=Object(F.a)(['\n    height: 10vh;\n    width: 98vw;\n    margin-left: auto;\n    margin-right: auto;\n    align-items: center;\n    display: grid;\n    grid-template-areas:\n        "language category mainPhoto post"\n        "title title smallPhoto post";\n    grid-template-columns: 3fr 3fr 4fr 1fr;\n    grid-template-rows: 1fr 1fr;\n']))),_=L.a.div(i||(i=Object(F.a)(["\n    grid-area: language;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),H=L.a.div(r||(r=Object(F.a)(["\n    grid-area: category;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),M=L.a.div(o||(o=Object(F.a)(["\n    grid-area: mainPhoto;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),W=L.a.div(l||(l=Object(F.a)(["\n    grid-area: smallPhoto;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),Y=L.a.div(s||(s=Object(F.a)(["\n    grid-area: title;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n"]))),q=L.a.div(d||(d=Object(F.a)(["\n    grid-area: post;\n"]))),z=L.a.input(j||(j=Object(F.a)(["\n    color: blue;\n    width: 80%;\n    border: none;\n    padding: 5px;\n    margin-left: 20px;\n"]))),A=L.a.button(u||(u=Object(F.a)(["\n    border-radius: 5px;\n    border: none;\n    width: 80%;\n    padding: 2vw;\n\n    &:hover {\n        background-color: lightblue;\n        cursor: pointer;\n    }\n"]))),G=L.a.form(b||(b=Object(F.a)(["\n    margin-left: 2vw;\n"]))),K=L.a.input.attrs((function(){return{type:"file",accept:"image/png, image/jpeg"}}))(p||(p=Object(F.a)(["\n    color: white;\n    padding: 5px;\n"]))),Q=L.a.button.attrs((function(){return{type:"submit"}}))(g||(g=Object(F.a)(["\n    padding: 5px;\n"]))),X=L.a.div(O||(O=Object(F.a)(["\n    flex: 1;\n    height: 88vh;\n    display: flex;\n    overflow: hidden;\n    flex-direction: row;\n    overflow: hidden;\n"]))),Z=L.a.div(h||(h=Object(F.a)(["\n    width: 48.5vw;\n    height: 100%;\n    margin: 0vw 0.5vw 1vw 1vw;\n"]))),$=L.a.iframe(f||(f=Object(F.a)(["\n    width: 48.5vw;\n    height: 93.5vh;\n    margin: 0vw 1vw 1vw 0.5vw;\n    background-color: white;\n    border-radius: 8px;\n"]))),ee=L.a.div(v||(v=Object(F.a)(["\n    display: ",";\n    position: fixed;\n    height: 10vh;\n    width: 30vw;\n    top: 50%;\n    left: 50%;\n    margin-left: -15vw;\n    margin-top: -5vh;\n    align-items: center;\n    justify-content: center;\n    background-color: lightcoral;\n    color: white;\n"])),(function(e){return e.show?"flex":"none"})),te=L.a.h3(m||(m=Object(F.a)(["\n    color: lightblue;\n    margin-left: 1vw;\n"]))),ae=L.a.select(x||(x=Object(F.a)(["\n    width: 50%;\n    padding: 5px;\n    margin-left: 5%;\n"]))),ne=L.a.option(y||(y=Object(F.a)([""])));t.default=function(){var e=Object(J.useState)(!1),t=Object(E.a)(e,2),a=t[0],n=t[1],c=Object(J.useState)(),i=Object(E.a)(c,2),r=i[0],o=i[1],l=Object(J.useState)(""),s=Object(E.a)(l,2),d=s[0],j=s[1],u=Object(J.useState)(),b=Object(E.a)(u,2),p=b[0],g=b[1],O=Object(J.useState)("en"),h=Object(E.a)(O,2),f=h[0],v=h[1],m=Object(J.useState)(),x=Object(E.a)(m,2),y=x[0],w=x[1],P=Object(J.useState)("diary"),I=Object(E.a)(P,2),F=I[0],L=I[1],ce=Object(J.useState)(),ie=Object(E.a)(ce,2),re=ie[0],oe=ie[1],le=Object(J.useState)(!1),se=Object(E.a)(le,2),de=se[0],je=se[1],ue=Object(N.useLocation)().pathname.split("/")[2];Object(J.useEffect)((function(){"new"!==ue?(je(!1),D.a.get("/posts/"+ue).then((function(e){return oe(e.data)}))):je(!0)}),[ue]),Object(J.useEffect)((function(){re&&(L(re.category),g(re.tinyPhoto),w(re.titleImage),he({type:"vi",payload:re.contentVi}),he({type:"ja",payload:re.contentJa}),he({type:"en",payload:re.contentEn}),xe({type:"vi",payload:re.titleVi}),xe({type:"ja",payload:re.titleJa}),xe({type:"en",payload:re.titleEn}))}),[re]);var be="https://drive.google.com/uc?export=view&id=";var pe=Object(J.useReducer)((function(e,t){switch(t.type){case"en":return Object(S.a)(Object(S.a)({},e),{},{en:t.payload,default:t.payload});case"vi":return Object(S.a)(Object(S.a)({},e),{},{vi:t.payload,default:t.payload});case"ja":return Object(S.a)(Object(S.a)({},e),{},{ja:t.payload,default:t.payload});case"default":switch(t.payload){default:return Object(S.a)(Object(S.a)({},e),{},{default:e.en});case"vi":return Object(S.a)(Object(S.a)({},e),{},{default:e.vi});case"ja":return Object(S.a)(Object(S.a)({},e),{},{default:e.ja})}default:return e}}),{default:"",en:"",vi:"",ja:""}),ge=Object(E.a)(pe,2),Oe=ge[0],he=ge[1],fe=Object(J.useReducer)((function(e,t){switch(t.type){case"en":return Object(S.a)(Object(S.a)({},e),{},{en:t.payload,default:t.payload});case"vi":return Object(S.a)(Object(S.a)({},e),{},{vi:t.payload,default:t.payload});case"ja":return Object(S.a)(Object(S.a)({},e),{},{ja:t.payload,default:t.payload});case"default":switch(t.payload){default:return Object(S.a)(Object(S.a)({},e),{},{default:e.en});case"vi":return Object(S.a)(Object(S.a)({},e),{},{default:e.vi});case"ja":return Object(S.a)(Object(S.a)({},e),{},{default:e.ja})}default:return e}}),{default:"",en:"",vi:"",ja:""}),ve=Object(E.a)(fe,2),me=ve[0],xe=ve[1],ye=Object(J.useContext)(B.a).user;Object(J.useEffect)((function(){ye||window.location.replace("/")}));var we=function(e){o(e.target.files[0])},ke=function(){var e=Object(C.a)(k.a.mark((function e(){var t,a,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ye.username){e.next=27;break}if(t={titleEn:me.en,titleVi:me.vi,titleJa:me.ja,contentEn:Oe.en,contentVi:Oe.vi,contentJa:Oe.ja,titleImage:y,tinyPhoto:p,category:F,author:ye.username},!de){e.next=15;break}return e.prev=3,e.next=6,D.a.post("/posts",t);case 6:a=e.sent,window.location.replace("/#/post/"+a.data._id),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:e.next=25;break;case 15:return e.prev=15,e.next=18,D.a.put("/posts/"+ue,t);case 18:n=e.sent,window.location.replace("/#/post/"+n.data._id),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(15),console.log(e.t1);case 25:e.next=28;break;case 27:console.log("You must login");case 28:case"end":return e.stop()}}),e,null,[[3,10],[15,22]])})));return function(){return e.apply(this,arguments)}}();return Object(J.useEffect)((function(){he({type:"default",payload:f}),xe({type:"default",payload:f})}),[f]),Object(T.jsxs)(R,{children:[Object(T.jsxs)(U,{children:[Object(T.jsxs)(_,{children:[Object(T.jsx)(te,{children:"Language"}),Object(T.jsxs)(ae,{onChange:function(e){return v(e.target.value)},children:[Object(T.jsx)(ne,{value:"en",children:"English"}),Object(T.jsx)(ne,{value:"ja",children:"\u65e5\u672c\u8a9e"}),Object(T.jsx)(ne,{value:"vi",children:"Ti\u1ebfng Vi\u1ec7t"})]})]}),Object(T.jsxs)(H,{children:[Object(T.jsx)(te,{children:"Category"}),Object(T.jsxs)(ae,{onChange:function(e){return L(e.target.value)},children:[Object(T.jsx)(ne,{value:"diary",children:"Diary"}),Object(T.jsx)(ne,{value:"programming",children:"Programming"}),Object(T.jsx)(ne,{value:"book",children:"Book"})]})]}),Object(T.jsxs)(M,{children:[Object(T.jsx)(te,{children:"Title Image"}),Object(T.jsxs)(G,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",r);try{D.a.post("/image/upload",t).then((function(e){n(!0),w(e.data)}))}catch(a){console.log(a.message)}},children:[Object(T.jsx)(K,{onChange:we}),Object(T.jsx)(Q,{children:"Upload Image"})]})]}),Object(T.jsxs)(W,{children:[Object(T.jsx)(te,{children:"Tiny Photo"}),Object(T.jsxs)(G,{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("image",r);try{D.a.post("/image/upload",t).then((function(e){g(e.data),n(!0)}))}catch(a){console.log(a.message)}},children:[Object(T.jsx)(K,{onChange:we}),Object(T.jsx)(Q,{children:"Upload Image"})]})]}),Object(T.jsxs)(Y,{children:[Object(T.jsx)(te,{children:"Title"}),Object(T.jsx)(z,{value:me.default,onChange:function(e){xe({type:f,payload:e.target.value})}})]}),Object(T.jsx)(q,{children:Object(T.jsx)(A,{onClick:ke,children:"Post"})})]}),Object(T.jsxs)(X,{children:[Object(T.jsx)(Z,{children:Object(T.jsx)(V,{value:Oe.default,dispatch:he,language:f,executeCode:function(){j(Oe.default)}})}),Object(T.jsx)($,{srcDoc:d,title:"output",sandbox:"allow-scripts",frameBorder:"0"})]}),Object(T.jsxs)(ee,{show:a,onClick:function(){return n(!1)},children:[p&&Object(T.jsx)("img",{alt:"article-tiny",src:be+p}),y&&!p&&Object(T.jsx)("img",{alt:"article-tiny",src:be+y})]})]})}}}]);
//# sourceMappingURL=4.dd48f3b8.chunk.js.map