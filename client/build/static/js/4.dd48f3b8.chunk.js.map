{"version":3,"sources":["components/Editor/index.js","pages/Article/element.js","pages/Article/index.js"],"names":["Editor","value","executeCode","dispatch","language","useState","fileData","setFileData","className","onSubmit","e","preventDefault","data","FormData","append","axios","post","then","res","type","payload","err","console","log","message","accept","onChange","target","files","onClick","onBeforeChange","editor","options","lineWrapping","lint","mode","lineNumbers","theme","Container","styled","div","Header","Language","Category","MainPhoto","SmallPhoto","Title","Post","InputTitle","input","Button","button","ImportPhoto","form","InputPhoto","attrs","ButtonConfirm","ArticleContent","ImportArea","RenderArea","iframe","Popup","show","TitleSelect","h3","Select","select","Option","option","Article","showPopup","setShowPopup","srcDoc","setSrcDoc","tinyPhoto","setTinyPhoto","setLanguage","titleImage","setTitleImage","category","setCategory","article","setArticle","isNewPost","setIsNewPost","path","useLocation","pathname","split","useEffect","get","result","contentVi","contentJa","contentEn","dispatchTitle","titleVi","titleJa","titleEn","photoDefaultPath","useReducer","content","action","en","default","vi","ja","title","user","useContext","Context","window","location","replace","selectedFileHandler","clickHandler","a","username","newArticle","author","_id","put","sandbox","frameBorder","alt","src"],"mappings":"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","file":"static/js/4.dd48f3b8.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport React, { useState } from \"react\";\r\nimport { Controlled } from \"react-codemirror2\";\r\n\r\nimport \"codemirror/lib/codemirror.css\";\r\nimport \"codemirror/theme/material.css\";\r\nimport \"codemirror/mode/xml/xml\";\r\n\r\nimport \"../Editor/element.css\";\r\n\r\nconst Editor = ({ value, executeCode, dispatch, language }) => {\r\n    function handleChange(editor, data, value) {\r\n        dispatch({ type: language, payload: value });\r\n    }\r\n\r\n    const [fileData, setFileData] = useState();\r\n\r\n    const fileChangeHandler = (e) => {\r\n        setFileData(e.target.files[0]);\r\n    };\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n        data.append(\"image\", fileData);\r\n\r\n        try {\r\n            axios.post(\"/image/upload\", data).then((res) => {\r\n                dispatch({\r\n                    type: language,\r\n                    payload:\r\n                        value +\r\n                        `<img alt=\"gogole-drive-photo\" src=\"https://drive.google.com/uc?export=view&id=${res.data}\" style=\"max-width: 100%; height: auto\" />`,\r\n                });\r\n            });\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"editor-container\">\r\n            <div className=\"editor-title\">\r\n                <div className=\"editor-language\">HTML</div>\r\n                <div className=\"editor-import-file\">\r\n                    <form onSubmit={onSubmitHandler}>\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/png, image/jpeg\"\r\n                            onChange={fileChangeHandler}\r\n                        />\r\n                        <button className=\"button-submit\" type=\"submit\">\r\n                            Submit\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n                <button className=\"button-run\" onClick={executeCode}>\r\n                    Run\r\n                </button>\r\n            </div>\r\n            <Controlled\r\n                onBeforeChange={handleChange}\r\n                value={value}\r\n                className=\"code-mirror-wrapper\"\r\n                options={{\r\n                    lineWrapping: true,\r\n                    lint: true,\r\n                    mode: \"xml\",\r\n                    lineNumbers: true,\r\n                    theme: \"material\",\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Editor;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n    background-color: hsl(255, 6%, 25%);\r\n    height: 100vh;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n    height: 10vh;\r\n    width: 98vw;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    align-items: center;\r\n    display: grid;\r\n    grid-template-areas:\r\n        \"language category mainPhoto post\"\r\n        \"title title smallPhoto post\";\r\n    grid-template-columns: 3fr 3fr 4fr 1fr;\r\n    grid-template-rows: 1fr 1fr;\r\n`;\r\n\r\nexport const Language = styled.div`\r\n    grid-area: language;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Category = styled.div`\r\n    grid-area: category;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport const MainPhoto = styled.div`\r\n    grid-area: mainPhoto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport const SmallPhoto = styled.div`\r\n    grid-area: smallPhoto;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Title = styled.div`\r\n    grid-area: title;\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Post = styled.div`\r\n    grid-area: post;\r\n`;\r\n\r\nexport const InputTitle = styled.input`\r\n    color: blue;\r\n    width: 80%;\r\n    border: none;\r\n    padding: 5px;\r\n    margin-left: 20px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n    border-radius: 5px;\r\n    border: none;\r\n    width: 80%;\r\n    padding: 2vw;\r\n\r\n    &:hover {\r\n        background-color: lightblue;\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nexport const ImportPhoto = styled.form`\r\n    margin-left: 2vw;\r\n`;\r\n\r\nexport const InputPhoto = styled.input.attrs(() => ({\r\n    type: \"file\",\r\n    accept: \"image/png, image/jpeg\",\r\n}))`\r\n    color: white;\r\n    padding: 5px;\r\n`;\r\n\r\nexport const ButtonConfirm = styled.button.attrs(() => ({\r\n    type: \"submit\",\r\n}))`\r\n    padding: 5px;\r\n`;\r\n\r\nexport const ArticleContent = styled.div`\r\n    flex: 1;\r\n    height: 88vh;\r\n    display: flex;\r\n    overflow: hidden;\r\n    flex-direction: row;\r\n    overflow: hidden;\r\n`;\r\n\r\nexport const ImportArea = styled.div`\r\n    width: 48.5vw;\r\n    height: 100%;\r\n    margin: 0vw 0.5vw 1vw 1vw;\r\n`;\r\n\r\nexport const RenderArea = styled.iframe`\r\n    width: 48.5vw;\r\n    height: 93.5vh;\r\n    margin: 0vw 1vw 1vw 0.5vw;\r\n    background-color: white;\r\n    border-radius: 8px;\r\n`;\r\n\r\nexport const Popup = styled.div`\r\n    display: ${({ show }) => (show ? \"flex\" : \"none\")};\r\n    position: fixed;\r\n    height: 10vh;\r\n    width: 30vw;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-left: -15vw;\r\n    margin-top: -5vh;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: lightcoral;\r\n    color: white;\r\n`;\r\n\r\nexport const TitleSelect = styled.h3`\r\n    color: lightblue;\r\n    margin-left: 1vw;\r\n`;\r\n\r\nexport const Select = styled.select`\r\n    width: 50%;\r\n    padding: 5px;\r\n    margin-left: 5%;\r\n`;\r\nexport const Option = styled.option``;\r\n","import axios from \"axios\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport Editor from \"../../components/Editor\";\r\nimport { Context } from \"../../context/Context\";\r\nimport {\r\n    ArticleContent,\r\n    Header,\r\n    Button,\r\n    Container,\r\n    ImportArea,\r\n    RenderArea,\r\n    InputTitle,\r\n    ImportPhoto,\r\n    InputPhoto,\r\n    ButtonConfirm,\r\n    Popup,\r\n    Language,\r\n    Category,\r\n    MainPhoto,\r\n    SmallPhoto,\r\n    Post,\r\n    Title,\r\n    Select,\r\n    Option,\r\n    TitleSelect,\r\n} from \"./element\";\r\n\r\nconst Article = () => {\r\n    const [showPopup, setShowPopup] = useState(false);\r\n\r\n    const [fileData, setFileData] = useState();\r\n\r\n    // Variable for article\r\n    const [srcDoc, setSrcDoc] = useState(\"\");\r\n    const [tinyPhoto, setTinyPhoto] = useState();\r\n    const [language, setLanguage] = useState(\"en\");\r\n    const [titleImage, setTitleImage] = useState();\r\n    const [category, setCategory] = useState(\"diary\");\r\n    // End variable for article\r\n\r\n    // Get location to know that is new article or not\r\n    const [article, setArticle] = useState();\r\n    const [isNewPost, setIsNewPost] = useState(false);\r\n\r\n    const location = useLocation();\r\n    const path = location.pathname.split(\"/\")[2];\r\n\r\n    useEffect(() => {\r\n        if (path !== \"new\") {\r\n            setIsNewPost(false);\r\n            axios\r\n                .get(\"/posts/\" + path)\r\n                .then((result) => setArticle(result.data));\r\n        } else {\r\n            setIsNewPost(true);\r\n        }\r\n    }, [path]);\r\n\r\n    useEffect(() => {\r\n        if (article) {\r\n            setCategory(article.category);\r\n            setTinyPhoto(article.tinyPhoto);\r\n            setTitleImage(article.titleImage);\r\n            dispatch({ type: \"vi\", payload: article.contentVi });\r\n            dispatch({ type: \"ja\", payload: article.contentJa });\r\n            dispatch({ type: \"en\", payload: article.contentEn });\r\n            dispatchTitle({ type: \"vi\", payload: article.titleVi });\r\n            dispatchTitle({ type: \"ja\", payload: article.titleJa });\r\n            dispatchTitle({ type: \"en\", payload: article.titleEn });\r\n        }\r\n    }, [article]);\r\n    // End Get location to know that is new article or not\r\n\r\n    const photoDefaultPath = \"https://drive.google.com/uc?export=view&id=\";\r\n\r\n    function reducer(content, action) {\r\n        switch (action.type) {\r\n            case \"en\":\r\n                return {\r\n                    ...content,\r\n                    en: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"vi\":\r\n                return {\r\n                    ...content,\r\n                    vi: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"ja\":\r\n                return {\r\n                    ...content,\r\n                    ja: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"default\":\r\n                switch (action.payload) {\r\n                    case \"en\":\r\n                        return { ...content, default: content.en };\r\n                    case \"vi\":\r\n                        return { ...content, default: content.vi };\r\n                    case \"ja\":\r\n                        return { ...content, default: content.ja };\r\n                    default:\r\n                        return { ...content, default: content.en };\r\n                }\r\n            default:\r\n                return content;\r\n        }\r\n    }\r\n\r\n    function reducerTitle(title, action) {\r\n        switch (action.type) {\r\n            case \"en\":\r\n                return {\r\n                    ...title,\r\n                    en: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"vi\":\r\n                return {\r\n                    ...title,\r\n                    vi: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"ja\":\r\n                return {\r\n                    ...title,\r\n                    ja: action.payload,\r\n                    default: action.payload,\r\n                };\r\n            case \"default\":\r\n                switch (action.payload) {\r\n                    case \"en\":\r\n                        return { ...title, default: title.en };\r\n                    case \"vi\":\r\n                        return { ...title, default: title.vi };\r\n                    case \"ja\":\r\n                        return { ...title, default: title.ja };\r\n                    default:\r\n                        return { ...title, default: title.en };\r\n                }\r\n            default:\r\n                return title;\r\n        }\r\n    }\r\n\r\n    const [content, dispatch] = useReducer(reducer, {\r\n        default: \"\",\r\n        en: \"\",\r\n        vi: \"\",\r\n        ja: \"\",\r\n    });\r\n\r\n    const [title, dispatchTitle] = useReducer(reducerTitle, {\r\n        default: \"\",\r\n        en: \"\",\r\n        vi: \"\",\r\n        ja: \"\",\r\n    });\r\n\r\n    const { user } = useContext(Context);\r\n\r\n    useEffect(() => {\r\n        if (!user) {\r\n            window.location.replace(\"/\");\r\n        }\r\n    });\r\n\r\n    const InputTitleChanged = (e) => {\r\n        dispatchTitle({ type: language, payload: e.target.value });\r\n    };\r\n\r\n    const selectedFileHandler = (e) => {\r\n        setFileData(e.target.files[0]);\r\n    };\r\n\r\n    const submitTitleImage = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n        data.append(\"image\", fileData);\r\n\r\n        try {\r\n            axios.post(\"/image/upload\", data).then((res) => {\r\n                setShowPopup(true);\r\n                setTitleImage(res.data);\r\n            });\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    };\r\n\r\n    const submitTinyPhoto = (e) => {\r\n        e.preventDefault();\r\n\r\n        const data = new FormData();\r\n        data.append(\"image\", fileData);\r\n\r\n        try {\r\n            axios.post(\"/image/upload\", data).then((res) => {\r\n                setTinyPhoto(res.data);\r\n                setShowPopup(true);\r\n            });\r\n        } catch (err) {\r\n            console.log(err.message);\r\n        }\r\n    };\r\n\r\n    const clickHandler = async () => {\r\n        if (user.username) {\r\n            const newArticle = {\r\n                titleEn: title.en,\r\n                titleVi: title.vi,\r\n                titleJa: title.ja,\r\n                contentEn: content.en,\r\n                contentVi: content.vi,\r\n                contentJa: content.ja,\r\n                titleImage,\r\n                tinyPhoto,\r\n                category,\r\n                author: user.username,\r\n            };\r\n            if (isNewPost) {\r\n                try {\r\n                    const res = await axios.post(\"/posts\", newArticle);\r\n                    window.location.replace(\"/#/post/\" + res.data._id);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            } else {\r\n                try {\r\n                    const res = await axios.put(\"/posts/\" + path, newArticle);\r\n                    window.location.replace(\"/#/post/\" + res.data._id);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            }\r\n        } else {\r\n            console.log(\"You must login\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"default\", payload: language });\r\n        dispatchTitle({ type: \"default\", payload: language });\r\n    }, [language]);\r\n\r\n    return (\r\n        <Container>\r\n            <Header>\r\n                <Language>\r\n                    <TitleSelect>Language</TitleSelect>\r\n                    <Select onChange={(e) => setLanguage(e.target.value)}>\r\n                        <Option value=\"en\">English</Option>\r\n                        <Option value=\"ja\">日本語</Option>\r\n                        <Option value=\"vi\">Tiếng Việt</Option>\r\n                    </Select>\r\n                </Language>\r\n                <Category>\r\n                    <TitleSelect>Category</TitleSelect>\r\n                    <Select onChange={(e) => setCategory(e.target.value)}>\r\n                        <Option value=\"diary\">Diary</Option>\r\n                        <Option value=\"programming\">Programming</Option>\r\n                        <Option value=\"book\">Book</Option>\r\n                    </Select>\r\n                </Category>\r\n                <MainPhoto>\r\n                    <TitleSelect>Title Image</TitleSelect>\r\n                    <ImportPhoto onSubmit={submitTitleImage}>\r\n                        <InputPhoto onChange={selectedFileHandler} />\r\n                        <ButtonConfirm>Upload Image</ButtonConfirm>\r\n                    </ImportPhoto>\r\n                </MainPhoto>\r\n                <SmallPhoto>\r\n                    <TitleSelect>Tiny Photo</TitleSelect>\r\n                    <ImportPhoto onSubmit={submitTinyPhoto}>\r\n                        <InputPhoto onChange={selectedFileHandler} />\r\n                        <ButtonConfirm>Upload Image</ButtonConfirm>\r\n                    </ImportPhoto>\r\n                </SmallPhoto>\r\n                <Title>\r\n                    <TitleSelect>Title</TitleSelect>\r\n                    <InputTitle\r\n                        value={title.default}\r\n                        onChange={InputTitleChanged}\r\n                    />\r\n                </Title>\r\n                <Post>\r\n                    <Button onClick={clickHandler}>Post</Button>\r\n                </Post>\r\n            </Header>\r\n            <ArticleContent>\r\n                <ImportArea>\r\n                    <Editor\r\n                        value={content.default}\r\n                        dispatch={dispatch}\r\n                        language={language}\r\n                        executeCode={() => {\r\n                            setSrcDoc(content.default);\r\n                        }}\r\n                    />\r\n                </ImportArea>\r\n                <RenderArea\r\n                    srcDoc={srcDoc}\r\n                    title=\"output\"\r\n                    sandbox=\"allow-scripts\"\r\n                    frameBorder=\"0\"\r\n                />\r\n            </ArticleContent>\r\n            <Popup show={showPopup} onClick={() => setShowPopup(false)}>\r\n                {tinyPhoto && (\r\n                    <img\r\n                        alt=\"article-tiny\"\r\n                        src={photoDefaultPath + tinyPhoto}\r\n                    />\r\n                )}\r\n                {titleImage && !tinyPhoto && (\r\n                    <img\r\n                        alt=\"article-tiny\"\r\n                        src={photoDefaultPath + titleImage}\r\n                    />\r\n                )}\r\n            </Popup>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Article;\r\n"],"sourceRoot":""}