{"version":3,"sources":["components/Login/element.js","components/Login/index.js"],"names":["Background","styled","div","show","Container","form","Close","h1","Label","h3","Input","input","Submit","button","attrs","type","ErrorLogin","Login","clickHandler","userRef","useRef","passwordRef","useContext","Context","dispatch","isFetching","useState","showError","setShowError","handleSubmit","e","a","preventDefault","axios","post","username","current","value","password","res","payload","data","onSubmit","onClick","ref","placeholder","disabled"],"mappings":"mNAEaA,EAAaC,IAAOC,IAAV,wTACR,qBAAGC,KAAmB,OAAS,UAcjCC,EAAYH,IAAOI,KAAV,uIAQTC,EAAQL,IAAOM,GAAV,yHAQLC,EAAQP,IAAOQ,GAAV,qDAILC,EAAQT,IAAOU,MAAV,8FAMLC,EAASX,IAAOY,OAAOC,OAAM,iBAAO,CAC7CC,KAAM,YADYd,CAAH,gXAsBNe,EAAaf,IAAOC,IAAV,kHACR,qBAAGC,KAAmB,QAAU,U,OCXhCc,UAzCD,SAAC,GAA4B,IAA1Bd,EAAyB,EAAzBA,KAAMe,EAAmB,EAAnBA,aACbC,EAAUC,mBACVC,EAAcD,mBACpB,EAAiCE,qBAAWC,KAApCC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,WAElB,EAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEMC,EAAY,uCAAG,WAAOC,GAAP,eAAAC,EAAA,6DACjBD,EAAEE,iBACFR,EAAS,CAAET,KAAM,gBAFA,kBAIKkB,IAAMC,KAAK,cAAe,CACxCC,SAAUhB,EAAQiB,QAAQC,MAC1BC,SAAUjB,EAAYe,QAAQC,QANrB,OAIPE,EAJO,OAQbf,EAAS,CAAET,KAAM,gBAAiByB,QAASD,EAAIE,OAC/CvB,IATa,kDAWbM,EAAS,CAAET,KAAM,kBACjBa,GAAa,GAZA,0DAAH,sDAgBlB,OACI,cAAC5B,EAAD,CAAYG,KAAMA,EAAlB,SACI,eAACC,EAAD,CAAWsC,SAAUb,EAArB,UACI,cAACvB,EAAD,CAAOqC,QAASzB,EAAhB,kBACA,cAACV,EAAD,uBACA,cAACE,EAAD,CAAOkC,IAAKzB,EAAS0B,YAAY,mBACjC,cAACrC,EAAD,uBACA,cAACE,EAAD,CAAOkC,IAAKvB,EAAawB,YAAY,mBACrC,cAAC7B,EAAD,CAAYb,KAAMwB,EAAlB,oFAIA,cAACf,EAAD,CAAQkC,SAAUrB,EAAlB","file":"static/js/3.4adb9b42.chunk.js","sourcesContent":["import styled from \"styled-components\";\r\n\r\nexport const Background = styled.div`\r\n    display: ${({ show }) => (show ? \"flex\" : \"none\")};\r\n    position: fixed;\r\n    width: 40vw;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -20vh;\r\n    margin-left: -20vw;\r\n    border-radius: 5px;\r\n    background-color: white;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px solid lightgray;\r\n`;\r\n\r\nexport const Container = styled.form`\r\n    width: 95%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Close = styled.h1`\r\n    margin: 1vh;\r\n    align-self: flex-end;\r\n    &:hover {\r\n        cursor: pointer;\r\n    }\r\n`;\r\n\r\nexport const Label = styled.h3`\r\n    margin-bottom: 1vw;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n    margin-bottom: 2vw;\r\n    font-size: 16px;\r\n    padding: 5px;\r\n`;\r\n\r\nexport const Submit = styled.button.attrs(() => ({\r\n    type: \"submit\",\r\n}))`\r\n    border: none;\r\n    color: white;\r\n    padding: 1vw;\r\n    font-size: 24px;\r\n    margin-bottom: 2vw;\r\n    border-radius: 5px;\r\n    background-color: steelblue;\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        background-color: skyblue;\r\n    }\r\n\r\n    &:disabled {\r\n        cursor: not-allowed;\r\n        background-color: coral;\r\n    }\r\n`;\r\n\r\nexport const ErrorLogin = styled.div`\r\n    display: ${({ show }) => (show ? \"block\" : \"none\")};\r\n    color: red;\r\n    align-self: center;\r\n    margin-bottom: 2vw;\r\n`;\r\n","import axios from \"axios\";\r\n\r\nimport { Context } from \"../../context/Context\";\r\nimport { useContext, useRef, useState } from \"react\";\r\nimport {\r\n    Background,\r\n    Close,\r\n    Container,\r\n    ErrorLogin,\r\n    Input,\r\n    Label,\r\n    Submit,\r\n} from \"./element\";\r\n\r\nconst Login = ({ show, clickHandler }) => {\r\n    const userRef = useRef();\r\n    const passwordRef = useRef();\r\n    const { dispatch, isFetching } = useContext(Context);\r\n\r\n    const [showError, setShowError] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        dispatch({ type: \"LOGIN_START\" });\r\n        try {\r\n            const res = await axios.post(\"/auth/login\", {\r\n                username: userRef.current.value,\r\n                password: passwordRef.current.value,\r\n            });\r\n            dispatch({ type: \"LOGIN_SUCCESS\", payload: res.data });\r\n            clickHandler();\r\n        } catch (err) {\r\n            dispatch({ type: \"LOGIN_FAILURE\" });\r\n            setShowError(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Background show={show}>\r\n            <Container onSubmit={handleSubmit}>\r\n                <Close onClick={clickHandler}>&times;</Close>\r\n                <Label>Username</Label>\r\n                <Input ref={userRef} placeholder=\"Enter Username\" />\r\n                <Label>Password</Label>\r\n                <Input ref={passwordRef} placeholder=\"Enter Password\" />\r\n                <ErrorLogin show={showError}>\r\n                    Login Error. This function is still developing. It will\r\n                    comeback soon!\r\n                </ErrorLogin>\r\n                <Submit disabled={isFetching}>Login</Submit>\r\n            </Container>\r\n        </Background>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}